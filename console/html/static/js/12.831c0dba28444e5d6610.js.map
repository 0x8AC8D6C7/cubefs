{"version":3,"sources":["webpack:///src/views/servers/serverDetail.vue","webpack:///./src/views/servers/serverDetail.vue?77f0","webpack:///./src/views/servers/serverDetail.vue"],"names":["serverDetail","name","data","resData","loading","page","pageSizes","pageNo","pageSize","totalRecord","totalPage","resLists","typeVal","typeList","ip","h3Txt","computed","crumbInfo","this","methods","handleSizeChange","val","handleCurrentChange","start","end","storageLists","slice","queryList","_this","that","variables","addr","infoFun","apollo","query","url","cluster","server","then","res","dataNodeGet","dataPartitionReports","length","metaNodeGet","metaPartitionInfos","catch","error","console","log","mounted","$route","type","servers_serverDetail","render","_vm","_h","$createElement","_c","_self","attrs","_v","staticClass","_s","directives","rawName","value","expression","staticStyle","width","label","prop","scopedSlots","_u","key","fn","scope","row","isLeader","needCompare","page-sizes","page-size","layout","total","on","size-change","current-change","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"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","file":"static/js/12.831c0dba28444e5d6610.js","sourcesContent":["<template>\n  <div>\n    <crumb :crumbInfo=\"crumbInfo\"></crumb>\n    <div class=\"cluster alarm\">\n      {{h3Txt}} Partition List\n      <div class=\"data-block\" v-loading=\"resData.loading\">\n        <el-table\n          :data=\"resData.resLists\"\n          class=\"mt20\"\n          style=\"width: 100%\"\n          v-if=\"h3Txt === 'data'\"\n        >\n          <el-table-column type=\"index\" label=\"#\"></el-table-column>\n          <el-table-column prop=\"partitionID\" label=\"Partiton ID\"></el-table-column>\n          <el-table-column prop=\"volName\" label=\"Volume \"></el-table-column>\n          <el-table-column prop=\"total\" label=\"Total\"></el-table-column>\n          <el-table-column prop=\"used\" label=\"Used\"></el-table-column>\n          <el-table-column prop=\"diskPath\" label=\"DiskPath\"></el-table-column>\n          <el-table-column prop=\"isLeader\" label=\"Leader\">\n            <template slot-scope=\"scope\">\n              <div>{{scope.row.isLeader}}</div>\n            </template>\n          </el-table-column>\n          <el-table-column prop=\"extentCount\" label=\"Extent Count\"></el-table-column>\n          <el-table-column prop=\"needCompare\" label=\"Need Compare\">\n            <template slot-scope=\"scope\">\n              <div>{{scope.row.needCompare}}</div>\n            </template>\n          </el-table-column>\n        </el-table>\n        <el-table\n          :data=\"resData.resLists\"\n          class=\"mt20\"\n          style=\"width: 100%\"\n          v-else\n        >\n          <el-table-column type=\"index\" label=\"#\"></el-table-column>\n          <el-table-column prop=\"partitionID\" label=\"Partiton ID\"></el-table-column>\n          <el-table-column prop=\"volName \" label=\"Volume \"></el-table-column>\n          <el-table-column prop=\"start\" label=\"Start\"></el-table-column>\n          <el-table-column prop=\"end\" label=\"End\"></el-table-column>\n          <el-table-column prop=\"status\" label=\"Status\"></el-table-column>\n          <el-table-column prop=\"isLeader\" label=\"Leader\">\n            <template slot-scope=\"scope\">\n              <div>{{scope.row.isLeader}}</div>\n            </template>\n          </el-table-column>\n        </el-table>\n        <div class=\"clearfix mt20\">\n          <el-pagination\n            class=\"fr\"\n            @size-change=\"handleSizeChange\"\n            @current-change=\"handleCurrentChange\"\n            :page-sizes=\"resData.page.pageSizes\"\n            :page-size=\"resData.page.pageSize\"\n            layout=\"sizes, prev, pager, next\"\n            :total=\"resData.page.totalRecord\">\n          </el-pagination>\n          <span class=\"fr page-tips pr10\">Each page shows</span>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport baseGql from '../../graphql/server'\n\nexport default {\n  name: 'alarm',\n  data () {\n    return {\n      resData: {\n        loading: true,\n        page: {\n          pageSizes: [10, 20, 30, 40],\n          pageNo: 1,\n          pageSize: 10,\n          totalRecord: 0,\n          totalPage: 1\n        },\n        resLists: []\n      },\n      typeVal: '',\n      typeList: ['Meta Partition List'],\n      ip: '',\n      h3Txt: ''\n    }\n  },\n  computed: {\n    crumbInfo () {\n      return this.ip\n    }\n  },\n  methods: {\n    handleSizeChange (val) {\n      this.resData.page.pageSize = val\n      this.resData.page.pageNo = 1\n      this.handleCurrentChange(1)\n    },\n    handleCurrentChange (val) {\n      this.resData.page.pageNo = val\n      const start = (val - 1) * this.resData.page.pageSize\n      const end = val * this.resData.page.pageSize\n      this.resData.resLists = this.storageLists.slice(start, end)\n    },\n    queryList () {\n      const that = this\n      that.resData.loading = true\n      const variables = {\n        addr: this.ip\n      }\n      const infoFun = this.h3Txt === 'data' ? 'dataNodeGet' : 'metaNodeGet'\n      this.apollo.query(this.url.cluster, baseGql[infoFun], variables).then((res) => {\n        that.resData.loading = false\n        if (res) {\n          const data = res.data\n          if (this.h3Txt === 'data') {\n            this.storageLists = data.dataNodeGet.dataPartitionReports\n            this.resData.page.totalRecord = data.dataNodeGet.dataPartitionReports.length\n          } else {\n            this.storageLists = data.metaNodeGet.metaPartitionInfos\n            this.resData.page.totalRecord = data.metaNodeGet.metaPartitionInfos.length\n          }\n          this.handleCurrentChange(1)\n        } else {\n        }\n      }).catch((error) => {\n        that.resData.loading = false\n        console.log(error)\n      })\n    }\n  },\n  mounted () {\n    let query = this.$route.query\n    this.ip = query.ip\n    this.h3Txt = query.type\n    this.queryList()\n  }\n}\n</script>\n\n<style scoped>\n.alarm h3{\n  line-height: 16px;\n  font-family: Helvetica;\n  font-weight: normal;\n  font-size: 13px;\n  color: rgba(51,51,51,1);\n  margin-bottom: 20px;\n}\n.volume-name{\n  cursor: pointer;\n  color: #466BE4;\n}\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/views/servers/serverDetail.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('crumb',{attrs:{\"crumbInfo\":_vm.crumbInfo}}),_vm._v(\" \"),_c('div',{staticClass:\"cluster alarm\"},[_vm._v(\"\\n    \"+_vm._s(_vm.h3Txt)+\" Partition List\\n    \"),_c('div',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.resData.loading),expression:\"resData.loading\"}],staticClass:\"data-block\"},[(_vm.h3Txt === 'data')?_c('el-table',{staticClass:\"mt20\",staticStyle:{\"width\":\"100%\"},attrs:{\"data\":_vm.resData.resLists}},[_c('el-table-column',{attrs:{\"type\":\"index\",\"label\":\"#\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"partitionID\",\"label\":\"Partiton ID\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"volName\",\"label\":\"Volume \"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"total\",\"label\":\"Total\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"used\",\"label\":\"Used\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"diskPath\",\"label\":\"DiskPath\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"isLeader\",\"label\":\"Leader\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('div',[_vm._v(_vm._s(scope.row.isLeader))])]}}],null,false,2025729776)}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"extentCount\",\"label\":\"Extent Count\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"needCompare\",\"label\":\"Need Compare\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('div',[_vm._v(_vm._s(scope.row.needCompare))])]}}],null,false,631425820)})],1):_c('el-table',{staticClass:\"mt20\",staticStyle:{\"width\":\"100%\"},attrs:{\"data\":_vm.resData.resLists}},[_c('el-table-column',{attrs:{\"type\":\"index\",\"label\":\"#\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"partitionID\",\"label\":\"Partiton ID\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"volName \",\"label\":\"Volume \"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"start\",\"label\":\"Start\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"end\",\"label\":\"End\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"status\",\"label\":\"Status\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"isLeader\",\"label\":\"Leader\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('div',[_vm._v(_vm._s(scope.row.isLeader))])]}}])})],1),_vm._v(\" \"),_c('div',{staticClass:\"clearfix mt20\"},[_c('el-pagination',{staticClass:\"fr\",attrs:{\"page-sizes\":_vm.resData.page.pageSizes,\"page-size\":_vm.resData.page.pageSize,\"layout\":\"sizes, prev, pager, next\",\"total\":_vm.resData.page.totalRecord},on:{\"size-change\":_vm.handleSizeChange,\"current-change\":_vm.handleCurrentChange}}),_vm._v(\" \"),_c('span',{staticClass:\"fr page-tips pr10\"},[_vm._v(\"Each page shows\")])],1)],1)])],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/_vue-loader@13.7.3@vue-loader/lib/template-compiler?{\"id\":\"data-v-50347585\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/_vue-loader@13.7.3@vue-loader/lib/selector.js?type=template&index=0!./src/views/servers/serverDetail.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/_extract-text-webpack-plugin@3.0.2@extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-50347585\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=styles&index=0!./serverDetail.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=script&index=0!./serverDetail.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=script&index=0!./serverDetail.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-50347585\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=template&index=0!./serverDetail.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-50347585\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views/servers/serverDetail.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}