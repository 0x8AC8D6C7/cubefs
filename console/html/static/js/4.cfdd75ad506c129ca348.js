webpackJsonp([4],{"+HyO":function(e,a,t){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var n=t("EbL2"),s={name:"alarm",data:function(){return{resData:{loading:!0,page:{pageSizes:[10,20,30,40],pageNo:1,pageSize:10,totalRecord:0,totalPage:1},resLists:[]},typeVal:"",searchVal:null}},methods:{handleSizeChange:function(e){this.resData.page.pageSize=e,this.resData.page.pageNo=1,this.handleCurrentChange(1)},handleCurrentChange:function(e){this.resData.page.pageNo=e;var a=(e-1)*this.resData.page.pageSize,t=e*this.resData.page.pageSize;this.resData.resLists=this.storageLists.slice(a,t)},queryList:function(){var e=this,a=this;a.resData.loading=!0;this.apollo.query(this.url.cluster,n.a.queryMasterList,{num:1e4}).then(function(t){if(a.resData.loading=!1,t){var n=t.data,s=[];e.searchVal&&""!==e.searchVal.trim()?n.masterList.forEach(function(a){a.addr.indexOf(e.searchVal.trim())>-1&&s.push(a)}):s=n.masterList,e.storageLists=s,e.resData.page.totalRecord=s.length,e.handleCurrentChange(1)}}).catch(function(e){a.resData.loading=!1,console.log(e)})}},mounted:function(){this.queryList()}},i={render:function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("div",{staticClass:"alarm"},[t("div",{staticClass:"fr mb20"},[t("el-input",{staticStyle:{width:"255px"},attrs:{placeholder:"请输入内容"},model:{value:e.searchVal,callback:function(a){e.searchVal=a},expression:"searchVal"}}),e._v(" "),t("el-button",{staticClass:"ml5",attrs:{type:"primary"},on:{click:e.queryList}},[e._v("Search")])],1),e._v(" "),t("div",{directives:[{name:"loading",rawName:"v-loading",value:e.resData.loading,expression:"resData.loading"}],staticClass:"data-block"},[t("el-table",{staticClass:"mt20",staticStyle:{width:"100%"},attrs:{data:e.resData.resLists}},[t("el-table-column",{attrs:{prop:"addr",label:"Address"}}),e._v(" "),t("el-table-column",{attrs:{prop:"isLeader",label:"Leader"},scopedSlots:e._u([{key:"default",fn:function(a){return[t("div",[e._v(e._s(a.row.isLeader))])]}}])})],1),e._v(" "),t("div",{staticClass:"clearfix mt20"},[t("el-pagination",{staticClass:"fr",attrs:{"page-sizes":e.resData.page.pageSizes,"page-size":e.resData.page.pageSize,layout:"sizes, prev, pager, next",total:e.resData.page.totalRecord},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}}),e._v(" "),t("span",{staticClass:"fr page-tips pr10"},[e._v("Each page shows")])],1)],1)])},staticRenderFns:[]};var o=t("C7Lr")(s,i,!1,function(e){t("i6xE")},"data-v-6ca477df",null).exports,r={name:"alarm",data:function(){return{resData:{loading:!0,page:{pageSizes:[10,20,30,40],pageNo:1,pageSize:10,totalRecord:0,totalPage:1},resLists:[]},typeVal:"",searchVal:null}},methods:{handleSizeChange:function(e){this.resData.page.pageSize=e,this.resData.page.pageNo=1,this.handleCurrentChange(1)},handleCurrentChange:function(e){this.resData.page.pageNo=e;var a=(e-1)*this.resData.page.pageSize,t=e*this.resData.page.pageSize;this.resData.resLists=this.storageLists.slice(a,t)},queryList:function(){var e=this,a=this;a.resData.loading=!0;this.apollo.query(this.url.cluster,n.a.queryMetaList,{num:1e4}).then(function(t){if(a.resData.loading=!1,t){var n=t.data.clusterView.metaNodes,s=[];e.searchVal&&""!==e.searchVal.trim()?n.forEach(function(a){a.addr.indexOf(e.searchVal.trim())>-1&&s.push(a)}):s=n,e.storageLists=s,e.resData.page.totalRecord=s.length,e.handleCurrentChange(1)}}).catch(function(e){a.resData.loading=!1,console.log(e)})},goServerDetail:function(e){this.$router.push({name:"serverDetail",query:{ip:e.addr,type:"meta"}})}},mounted:function(){this.queryList()}},l={render:function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("div",{staticClass:"alarm"},[t("div",{staticClass:"fr mb20"},[t("el-input",{staticStyle:{width:"255px"},attrs:{placeholder:"请输入内容"},model:{value:e.searchVal,callback:function(a){e.searchVal=a},expression:"searchVal"}}),e._v(" "),t("el-button",{staticClass:"ml5",attrs:{type:"primary"},on:{click:e.queryList}},[e._v("Search")])],1),e._v(" "),t("div",{directives:[{name:"loading",rawName:"v-loading",value:e.resData.loading,expression:"resData.loading"}],staticClass:"data-block"},[t("el-table",{staticClass:"mt20",staticStyle:{width:"100%"},attrs:{data:e.resData.resLists}},[t("el-table-column",{attrs:{prop:"address",label:"Address"},scopedSlots:e._u([{key:"default",fn:function(a){return[t("div",{staticClass:"volume-name",on:{click:function(t){return e.goServerDetail(a.row)}}},[e._v(e._s(a.row.addr))])]}}])}),e._v(" "),t("el-table-column",{attrs:{prop:"toMetaNode.zoneName",label:"Zone"}}),e._v(" "),t("el-table-column",{attrs:{prop:"iD",label:"ID"}}),e._v(" "),t("el-table-column",{attrs:{prop:"toMetaNode.metaPartitionCount",label:"Partition count",width:"150"}}),e._v(" "),t("el-table-column",{attrs:{prop:"toMetaNode.used",label:"Used"}}),e._v(" "),t("el-table-column",{attrs:{prop:"toMetaNode.total",label:"Total"}}),e._v(" "),t("el-table-column",{attrs:{prop:"toMetaNode",label:"Available"},scopedSlots:e._u([{key:"default",fn:function(a){return[t("div",[e._v(e._s(a.row.toMetaNode.total-a.row.toMetaNode.used))])]}}])}),e._v(" "),t("el-table-column",{attrs:{prop:"toMetaNode.usageRatio",label:"Used%"},scopedSlots:e._u([{key:"default",fn:function(a){return[t("div",[e._v(e._s((100*a.row.toMetaNode.ratio).toFixed(2)))])]}}])}),e._v(" "),t("el-table-column",{attrs:{prop:"toMetaNode.reportTime",label:"Report Time"}}),e._v(" "),t("el-table-column",{attrs:{prop:"toMetaNode.isActive",label:"Is Active"},scopedSlots:e._u([{key:"default",fn:function(a){return[t("div",[e._v(e._s(a.row.toMetaNode.isActive))])]}}])})],1),e._v(" "),t("div",{staticClass:"clearfix mt20"},[t("el-pagination",{staticClass:"fr",attrs:{"page-sizes":e.resData.page.pageSizes,"page-size":e.resData.page.pageSize,layout:"sizes, prev, pager, next",total:e.resData.page.totalRecord},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}}),e._v(" "),t("span",{staticClass:"fr page-tips pr10"},[e._v("Each page shows")])],1)],1)])},staticRenderFns:[]};var d=t("C7Lr")(r,l,!1,function(e){t("jPWf")},"data-v-cccaf408",null).exports,c={name:"alarm",data:function(){return{resData:{loading:!0,page:{pageSizes:[10,20,30,40],pageNo:1,pageSize:10,totalRecord:0,totalPage:1},resLists:[]},typeVal:"",searchVal:null}},methods:{handleSizeChange:function(e){this.resData.page.pageSize=e,this.resData.page.pageNo=1,this.handleCurrentChange(1)},handleCurrentChange:function(e){this.resData.page.pageNo=e;var a=(e-1)*this.resData.page.pageSize,t=e*this.resData.page.pageSize;this.resData.resLists=this.storageLists.slice(a,t)},queryList:function(){var e=this,a=this;a.resData.loading=!0;this.apollo.query(this.url.cluster,n.a.queryDataList,{num:1e4}).then(function(t){if(a.resData.loading=!1,t){var n=t.data.clusterView.dataNodes,s=[];e.searchVal&&""!==e.searchVal.trim()?n.forEach(function(a){a.addr.indexOf(e.searchVal.trim())>-1&&s.push(a)}):s=n,e.storageLists=s,e.resData.page.totalRecord=s.length,e.handleCurrentChange(1)}}).catch(function(e){a.resData.loading=!1,console.log(e)})},goServerDetail:function(e){this.$router.push({name:"serverDetail",query:{ip:e.addr,type:"data"}})}},mounted:function(){this.queryList()}},u={render:function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("div",{staticClass:"alarm"},[t("div",{staticClass:"fr mb20"},[t("el-input",{staticStyle:{width:"255px"},attrs:{placeholder:"请输入内容"},model:{value:e.searchVal,callback:function(a){e.searchVal=a},expression:"searchVal"}}),e._v(" "),t("el-button",{staticClass:"ml5",attrs:{type:"primary"},on:{click:e.queryList}},[e._v("Search")])],1),e._v(" "),t("div",{directives:[{name:"loading",rawName:"v-loading",value:e.resData.loading,expression:"resData.loading"}],staticClass:"data-block"},[t("el-table",{staticClass:"mt20",staticStyle:{width:"100%"},attrs:{data:e.resData.resLists}},[t("el-table-column",{attrs:{prop:"address",label:"Address"},scopedSlots:e._u([{key:"default",fn:function(a){return[t("div",{staticClass:"volume-name",on:{click:function(t){return e.goServerDetail(a.row)}}},[e._v(e._s(a.row.addr))])]}}])}),e._v(" "),t("el-table-column",{attrs:{prop:"toDataNode.zoneName",label:"Zone"}}),e._v(" "),t("el-table-column",{attrs:{prop:"iD",label:"ID"}}),e._v(" "),t("el-table-column",{attrs:{prop:"toDataNode.dataPartitionCount",label:"Partition count",width:"150"}}),e._v(" "),t("el-table-column",{attrs:{prop:"toDataNode.used",label:"Used"}}),e._v(" "),t("el-table-column",{attrs:{prop:"toDataNode.total",label:"Total"}}),e._v(" "),t("el-table-column",{attrs:{prop:"toDataNode",label:"Available"},scopedSlots:e._u([{key:"default",fn:function(a){return[t("div",[e._v(e._s(a.row.toDataNode.total-a.row.toDataNode.used))])]}}])}),e._v(" "),t("el-table-column",{attrs:{prop:"toDataNode.usageRatio",label:"Used%"},scopedSlots:e._u([{key:"default",fn:function(a){return[t("div",[e._v(e._s((100*a.row.toDataNode.usageRatio).toFixed(2)))])]}}])}),e._v(" "),t("el-table-column",{attrs:{prop:"toDataNode.reportTime",label:"Report Time"}}),e._v(" "),t("el-table-column",{attrs:{prop:"toDataNode.isActive",label:"Is Active"},scopedSlots:e._u([{key:"default",fn:function(a){return[t("div",[e._v(e._s(a.row.toDataNode.isActive))])]}}])})],1),e._v(" "),t("div",{staticClass:"clearfix mt20"},[t("el-pagination",{staticClass:"fr",attrs:{"page-sizes":e.resData.page.pageSizes,"page-size":e.resData.page.pageSize,layout:"sizes, prev, pager, next",total:e.resData.page.totalRecord},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}}),e._v(" "),t("span",{staticClass:"fr page-tips pr10"},[e._v("Each page shows")])],1)],1)])},staticRenderFns:[]};var p=t("C7Lr")(c,u,!1,function(e){t("IO7S")},"data-v-7a5803ac",null).exports,m=t("181+"),g={name:"FailureList",data:function(){return{resData:{loading:!0,page:{pageSizes:[10,20,30,40],pageNo:1,pageSize:10,totalRecord:0,totalPage:1},resLists:[]}}},methods:{handleSizeChange:function(e){this.resData.page.pageSize=e,this.queryList()},handleCurrentChange:function(e){this.resData.page.pageNo=e,this.queryList()},queryList:function(){var e=this,a=this;a.resData.loading=!0;var t={page:{pageSize:this.resData.page.pageSize,pageIndex:this.resData.page.pageNo},param:{}};this.apollo.query(this.url.operations.queryServerList,m.a.queryList,t).then(function(e){if(a.resData.loading=!1,e){var t=e.content.data;a.resData.page.totalRecord=t.recordsTotal,a.resData.resLists=t.data}}).catch(function(t){a.resData.loading=!1,e.$Message.error(t)})}},mounted:function(){this.queryList()}},h={render:function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("div",{staticClass:"operation-server"},[t("el-table",{staticClass:"mt20",staticStyle:{width:"100%"},attrs:{data:e.resData.resLists}},[t("el-table-column",{attrs:{prop:"id",label:"#"}}),e._v(" "),t("el-table-column",{attrs:{prop:"name",label:"User Name"}}),e._v(" "),t("el-table-column",{attrs:{prop:"userType",label:"User Type"}}),e._v(" "),t("el-table-column",{attrs:{prop:"comments",label:"Comments"}})],1),e._v(" "),t("div",{staticClass:"clearfix mt20"},[t("el-pagination",{staticClass:"fr",attrs:{"page-sizes":e.resData.page.pageSizes,"page-size":e.resData.page.pageSize,layout:"sizes, prev, pager, next",total:e.resData.page.totalRecord},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}}),e._v(" "),t("span",{staticClass:"fr page-tips pr10"},[e._v("Each page shows")])],1)],1)},staticRenderFns:[]};var v={name:"ServerLists",components:{Master:o,Matanode:d,Datanode:p,FuseClients:t("C7Lr")(g,h,!1,function(e){t("QioN")},"data-v-2b4014a9",null).exports},data:function(){return{operationsSelect:"Master"}},methods:{}},f={render:function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("div",{staticClass:"operations"},[t("crumb",{attrs:{crumbInfo:"severList"}}),e._v(" "),t("el-tabs",{attrs:{type:"card"},model:{value:e.operationsSelect,callback:function(a){e.operationsSelect=a},expression:"operationsSelect"}},[t("el-tab-pane",{attrs:{label:"Master",name:"Master"}},[t("div",{staticClass:"operation-container"},[t("master")],1)]),e._v(" "),t("el-tab-pane",{attrs:{label:"Matanode",name:"Matanode"}},[t("div",{staticClass:"operation-container"},[t("matanode")],1)]),e._v(" "),t("el-tab-pane",{attrs:{label:"Datanode",name:"Datanode"}},[t("div",{staticClass:"operation-container"},[t("datanode")],1)])],1)],1)},staticRenderFns:[]};var $=t("C7Lr")(v,f,!1,function(e){t("Q5Be")},null,null);a.default=$.exports},"181+":function(e,a,t){"use strict";var n=t("x11r"),s=t.n(n),i=t("6KKH"),o=t.n(i),r=s()(["query dataNodeListTest($num:int64) {\n    dataNodeListTest(num:$num){\n      addr\n      availableSpace\n      #      badDisks\n      carry\n      dataPartitionCount\n      #      dataPartitionReports\n      iD\n      nodeSetID\n      #      persistenceDataPartitions\n      reportTime\n      selectedTimes\n      total\n      usageRatio\n      used\n      zoneName\n    }\n  }"],["query dataNodeListTest($num:int64) {\n    dataNodeListTest(num:$num){\n      addr\n      availableSpace\n      #      badDisks\n      carry\n      dataPartitionCount\n      #      dataPartitionReports\n      iD\n      nodeSetID\n      #      persistenceDataPartitions\n      reportTime\n      selectedTimes\n      total\n      usageRatio\n      used\n      zoneName\n    }\n  }"]),l=s()(["query clusterView {\n    clusterView {\n      name\n      dataNodes {\n        addr\n        reportDisks\n        status\n        toDataNode {\n          zoneName\n          used\n          total\n          usageRatio\n          badDisks\n        }\n      },\n      metaNodes {\n        addr\n        status\n        toMetaNode {\n          zoneName\n          used\n          total\n          ratio\n        }\n      }\n    }\n  }"],["query clusterView {\n    clusterView {\n      name\n      dataNodes {\n        addr\n        reportDisks\n        status\n        toDataNode {\n          zoneName\n          used\n          total\n          usageRatio\n          badDisks\n        }\n      },\n      metaNodes {\n        addr\n        status\n        toMetaNode {\n          zoneName\n          used\n          total\n          ratio\n        }\n      }\n    }\n  }"]),d=s()(["query listVolume ($keyword:String, $userID:String) {\n      listVolume (keyword:$keyword, userID:$userID) {\n        name\n        capacity\n        occupied\n        dpReplicaNum\n        owner\n        createTime\n        oSSAccessKey\n        oSSSecretKey\n        toSimpleVolView {\n          description\n          dpCnt\n          mpCnt\n          rwDpCnt\n        }\n        status\n      }\n    }"],["query listVolume ($keyword:String, $userID:String) {\n      listVolume (keyword:$keyword, userID:$userID) {\n        name\n        capacity\n        occupied\n        dpReplicaNum\n        owner\n        createTime\n        oSSAccessKey\n        oSSSecretKey\n        toSimpleVolView {\n          description\n          dpCnt\n          mpCnt\n          rwDpCnt\n        }\n        status\n      }\n    }"]),c=s()(["mutation createVolume($authenticate:Bool, $capacity:Uint64, $crossZone:Bool, $dataPartitionSize:Uint64, $dpReplicaNum:Uint64, $enableToken:Bool, $followerRead:Bool, $mpCount:Uint64, $name:String, $owner:String, $zoneName:String, $description:String) {\n      createVolume(authenticate:$authenticate, capacity:$capacity, crossZone:$crossZone, dataPartitionSize:$dataPartitionSize, dpReplicaNum:$dpReplicaNum, enableToken:$enableToken, followerRead:$followerRead, mpCount:$mpCount, name:$name, owner:$owner, zoneName:$zoneName, description:$description){\n        name\n      }\n    }"],["mutation createVolume($authenticate:Bool, $capacity:Uint64, $crossZone:Bool, $dataPartitionSize:Uint64, $dpReplicaNum:Uint64, $enableToken:Bool, $followerRead:Bool, $mpCount:Uint64, $name:String, $owner:String, $zoneName:String, $description:String) {\n      createVolume(authenticate:$authenticate, capacity:$capacity, crossZone:$crossZone, dataPartitionSize:$dataPartitionSize, dpReplicaNum:$dpReplicaNum, enableToken:$enableToken, followerRead:$followerRead, mpCount:$mpCount, name:$name, owner:$owner, zoneName:$zoneName, description:$description){\n        name\n      }\n    }"]),u=s()(["mutation updateVolume($authKey:String, $capacity:Uint64, $enableToken:Bool, $name:String, $replicaNum:Uint64, $zoneName:String, $description:String) {\n      updateVolume(authKey:$authKey, capacity:$capacity, enableToken:$enableToken, name:$name, replicaNum:$replicaNum, zoneName:$zoneName, description:$description){\n        name\n        capacity\n      }\n    }"],["mutation updateVolume($authKey:String, $capacity:Uint64, $enableToken:Bool, $name:String, $replicaNum:Uint64, $zoneName:String, $description:String) {\n      updateVolume(authKey:$authKey, capacity:$capacity, enableToken:$enableToken, name:$name, replicaNum:$replicaNum, zoneName:$zoneName, description:$description){\n        name\n        capacity\n      }\n    }"]),p=s()(["mutation deleteVolume($authKey:String, $name:String) {\n      deleteVolume(authKey:$authKey, name:$name){\n        code\n        message\n      }\n    }"],["mutation deleteVolume($authKey:String, $name:String) {\n      deleteVolume(authKey:$authKey, name:$name){\n        code\n        message\n      }\n    }"]),m=s()(["query volPermission ($volName:String, $userID:String) {\n      volPermission (volName:$volName, userID:$userID) {\n        userID,\n        access\n      }\n    }"],["query volPermission ($volName:String, $userID:String) {\n      volPermission (volName:$volName, userID:$userID) {\n        userID,\n        access\n      }\n    }"]),g=s()(["mutation updateUserPolicy($policy:Array, $userID:String, $volume:String) {\n      updateUserPolicy(policy:$policy, userID:$userID, volume:$volume){\n        user_id\n      }\n    }"],["mutation updateUserPolicy($policy:Array, $userID:String, $volume:String) {\n      updateUserPolicy(policy:$policy, userID:$userID, volume:$volume){\n        user_id\n      }\n    }"]),h=s()(["mutation removeUserPolicy($userID:String, $volume:String) {\n      removeUserPolicy(userID:$userID, volume:$volume){\n        user_id\n      }\n    }"],["mutation removeUserPolicy($userID:String, $volume:String) {\n      removeUserPolicy(userID:$userID, volume:$volume){\n        user_id\n      }\n    }"]),v=s()(["mutation decommissionDataNode($offLineAddr:String) {\n      decommissionDataNode(offLineAddr:$offLineAddr){\n        code\n        message\n      }\n    }"],["mutation decommissionDataNode($offLineAddr:String) {\n      decommissionDataNode(offLineAddr:$offLineAddr){\n        code\n        message\n      }\n    }"]),f=s()(["mutation decommissionMetaNode($offLineAddr:String) {\n      decommissionMetaNode(offLineAddr:$offLineAddr){\n        code\n        message\n      }\n    }"],["mutation decommissionMetaNode($offLineAddr:String) {\n      decommissionMetaNode(offLineAddr:$offLineAddr){\n        code\n        message\n      }\n    }"]),$=s()(["mutation decommissionDisk($offLineAddr:String, $diskPath:String) {\n      decommissionDisk(offLineAddr:$offLineAddr, diskPath:$diskPath){\n        code\n        message\n      }\n    }"],["mutation decommissionDisk($offLineAddr:String, $diskPath:String) {\n      decommissionDisk(offLineAddr:$offLineAddr, diskPath:$diskPath){\n        code\n        message\n      }\n    }"]),D={queryServerList:o()(r),serverManagementList:o()(l),queryVolumeList:o()(d),createVolume:o()(c),updateVolume:o()(u),deleteVolume:o()(p),queryPermissionList:o()(m),grantPermission:o()(g),deletePermission:o()(h),decommissionDataNode:o()(v),decommissionMetaNode:o()(f),decommissionDisk:o()($)};a.a=D},IO7S:function(e,a){},Q5Be:function(e,a){},QioN:function(e,a){},i6xE:function(e,a){},jPWf:function(e,a){}});
//# sourceMappingURL=4.cfdd75ad506c129ca348.js.map