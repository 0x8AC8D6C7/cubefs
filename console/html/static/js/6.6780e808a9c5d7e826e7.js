webpackJsonp([6],{HzJ8:function(e,t,a){e.exports={default:a("P/sN"),__esModule:!0}},"P/sN":function(e,t,a){a("MJJS"),a("at0p"),e.exports=a("eBrH")},WN4v:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a("HzJ8"),r=a.n(n),l=a("EbL2"),i={name:"servers",data:function(){return{summary:null,data:{id:0,label:"Cluster_Baud Storage",children:[{id:1,label:"Master",children:[]},{id:2,label:"Matanode",children:[]},{id:3,label:"Datanode",children:[]}]},horizontal:!0,collapsable:!0,expandAll:!0,labelClassName:"bg-white"}},methods:{renderContent:function(e,t){return t.label},onExpand:function(e,t){"expand"in t?(t.expand=!t.expand,!t.expand&&t.children&&this.collapse(t.children)):this.$set(t,"expand",!0)},onNodeClick:function(e,t){if(null==t.url)return!1;window.open(t.url)},collapse:function(e){var t=this;e.forEach(function(e){e.expand&&(e.expand=!1),e.children&&t.collapse(e.children)})},expandChange:function(){this.toggleExpand(this.data,this.expandAll)},toggleExpand:function(e,t){var a=this;Array.isArray(e)?e.forEach(function(e){a.$set(e,"expand",t),e.children&&a.toggleExpand(e.children,t)}):(this.$set(e,"expand",t),e.children&&a.toggleExpand(e.children,t))},goServerList:function(){this.$router.push({name:"serverList"})},dataProcessing:function(e){var t=[],a=!0,n=!1,l=void 0;try{for(var i,s=r()(e);!(a=(i=s.next()).done);a=!0){var o=i.value,d={id:o,label:o.addr?o.addr:o};t.push(d)}}catch(e){n=!0,l=e}finally{try{!a&&s.return&&s.return()}finally{if(n)throw l}}return t},queryExpandAll:function(){var e=this,t=this;this.apollo.query(this.url.cluster,l.a.queryExpandAll,{num:1e4}).then(function(a){a&&(t.summary=a.data.clusterView,t.data.children[0].children=e.dataProcessing(a.data.masterList),t.data.children[1].children=e.dataProcessing(a.data.metaNodeList),t.data.children[2].children=e.dataProcessing(a.data.dataNodeList)),e.expandChange()})}},mounted:function(){this.queryExpandAll()}},s={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"cluster servers"},[e.summary?a("div",{staticClass:"server-title"},[a("span",[e._v("Cluster: "+e._s(e.summary.name)),a("b",[e._v("Total volume : "+e._s(e.summary.volumeCount))])]),e._v(" "),a("el-button",{staticClass:"ml50",attrs:{type:"primary"},on:{click:e.goServerList}},[e._v("Server List")])],1):e._e(),e._v(" "),a("div",{staticClass:"server-tree"},[a("div",{staticClass:"text-center"},[a("vue2-org-tree",{attrs:{name:"test",data:e.data,horizontal:e.horizontal,collapsable:e.collapsable,"label-class-name":e.labelClassName,"render-content":e.renderContent},on:{"on-expand":e.onExpand,"on-node-click":e.onNodeClick}})],1),e._v(" "),a("div",{staticClass:"photo"})])])},staticRenderFns:[]};var o=a("C7Lr")(i,s,!1,function(e){a("klPB")},"data-v-27d2af68",null);t.default=o.exports},eBrH:function(e,t,a){var n=a("xgeF"),r=a("PsHI");e.exports=a("ZuHZ").getIterator=function(e){var t=r(e);if("function"!=typeof t)throw TypeError(e+" is not iterable!");return n(t.call(e))}},klPB:function(e,t){}});
//# sourceMappingURL=6.6780e808a9c5d7e826e7.js.map