webpackJsonp([10],{"0ymG":function(e,t){},"7AC+":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=a("Pxnp"),n={name:"userDetails",data:function(){return{searchVal:"",resData:{loading:!0,page:{pageSizes:[10,20,30,40],pageNo:1,pageSize:10,totalRecord:0,totalPage:1},resLists:[]},storageLists:[]}},methods:{handleSizeChange:function(e){this.resData.page.pageSize=e,this.resData.page.pageNo=1,this.handleCurrentChange(1)},handleCurrentChange:function(e){this.resData.page.pageNo=e;var t=(e-1)*this.resData.page.pageSize,a=e*this.resData.page.pageSize;this.resData.resLists=this.storageLists.slice(t,a)},queryList:function(){var e=this,t=this;t.resData.loading=!0;this.apollo.query(this.url.user,r.a.queryUserList,{num:1e4}).then(function(a){if(t.resData.loading=!1,a){var r=[];e.searchVal&&""!==e.searchVal.trim()?a.data.listUserInfo.forEach(function(t){t.user_id.indexOf(e.searchVal.trim())>-1&&r.push(t)}):r=a.data.listUserInfo,e.storageLists=r,e.storageLists.forEach(function(e){1===e.user_type&&(e.userTypeStr="root"),2===e.user_type&&(e.userTypeStr="admin"),3===e.user_type&&(e.userTypeStr="user")}),e.resData.page.totalRecord=e.storageLists.length,e.handleCurrentChange(1)}}).catch(function(e){t.resData.loading=!1,console.log(e)})}},mounted:function(){this.queryList()}},s={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"cluster alarm"},[a("div",{staticClass:"clearfix"},[a("h3",{staticClass:"fl"},[e._v(" User list ")]),e._v(" "),a("div",{staticClass:"fr"},[a("el-input",{staticStyle:{width:"255px"},attrs:{placeholder:"请输入内容"},model:{value:e.searchVal,callback:function(t){e.searchVal=t},expression:"searchVal"}}),e._v(" "),a("el-button",{staticClass:"ml5",attrs:{type:"primary"},on:{click:e.queryList}},[e._v("Search")])],1)]),e._v(" "),a("div",{directives:[{name:"loading",rawName:"v-loading",value:e.resData.loading,expression:"resData.loading"}],staticClass:"data-block"},[a("el-table",{staticClass:"mt20",staticStyle:{width:"100%"},attrs:{data:e.resData.resLists}},[a("el-table-column",{attrs:{type:"index",label:"#"}}),e._v(" "),a("el-table-column",{attrs:{prop:"user_id",label:"User",width:"180"}}),e._v(" "),a("el-table-column",{attrs:{prop:"userStatistical.data",label:"Data(TB)"}}),e._v(" "),a("el-table-column",{attrs:{prop:"userStatistical.volumeCount",label:"Volume count"}}),e._v(" "),a("el-table-column",{attrs:{prop:"userStatistical.dataPartitionCount",label:"Data partiition count"}}),e._v(" "),a("el-table-column",{attrs:{prop:"userStatistical.metaPartitionCount",label:"Meta partition count"}})],1),e._v(" "),a("div",{staticClass:"clearfix mt20"},[a("el-pagination",{staticClass:"fr",attrs:{"page-sizes":e.resData.page.pageSizes,"page-size":e.resData.page.pageSize,layout:"sizes, prev, pager, next",total:e.resData.page.totalRecord},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}}),e._v(" "),a("span",{staticClass:"fr page-tips pr10"},[e._v("Each page shows")])],1)],1)])},staticRenderFns:[]};var i=a("C7Lr")(n,s,!1,function(e){a("0ymG")},"data-v-03717c79",null);t.default=i.exports},Pxnp:function(e,t,a){"use strict";var r=a("x11r"),n=a.n(r),s=a("6KKH"),i=a.n(s),u=n()(["query ClusterView {\n    clusterView{\n      leaderAddr\n      volumeCount\n      metaPartitionCount\n      dataPartitionCount\n      serverCount\n      disableAutoAlloc\n    }\n  }"],["query ClusterView {\n    clusterView{\n      leaderAddr\n      volumeCount\n      metaPartitionCount\n      dataPartitionCount\n      serverCount\n      disableAutoAlloc\n    }\n  }"]),l=n()(["query TopNUser($n:int32) {\n    topNUser(n:$n){\n      name\n      size\n      ratio\n    }\n  }"],["query TopNUser($n:int32) {\n    topNUser(n:$n){\n      name\n      size\n      ratio\n    }\n  }"]),o=n()(["query Query($queryTotal:String, $queryUsed:String,) {\n    total:Query(query:$queryTotal)\n    used:Query(query:$queryUsed)\n  }"],["query Query($queryTotal:String, $queryUsed:String,) {\n    total:Query(query:$queryTotal)\n    used:Query(query:$queryUsed)\n  }"]),d=n()(["query RangeQuery($queryTotal:String, $queryUsed:String, $start:uint32, $end:uint32,$step:uint32) {\n    total:RangeQuery(query:$queryTotal, start:$start, end:$end,step:$step),\n    used:RangeQuery(query:$queryUsed, start:$start, end:$end,step:$step)\n  }"],["query RangeQuery($queryTotal:String, $queryUsed:String, $start:uint32, $end:uint32,$step:uint32) {\n    total:RangeQuery(query:$queryTotal, start:$start, end:$end,step:$step),\n    used:RangeQuery(query:$queryUsed, start:$start, end:$end,step:$step)\n  }"]),p=n()(["query RangeQuery($query:String, $start:uint32, $end:uint32,$step:uint32) {\n#    total:RangeQuery(query:$query, start:$start, end:$end,step:$step),\n    RangeQuery(query:$query, start:$start, end:$end,step:$step)\n  }"],["query RangeQuery($query:String, $start:uint32, $end:uint32,$step:uint32) {\n#    total:RangeQuery(query:$query, start:$start, end:$end,step:$step),\n    RangeQuery(query:$query, start:$start, end:$end,step:$step)\n  }"]),y=n()(["query ListUserInfo {\n    listUserInfo{\n      user_id\n      user_type\n      userStatistical{\n        data\n        dataPartitionCount\n        metaPartitionCount\n        volumeCount\n      }\n    }\n  }"],["query ListUserInfo {\n    listUserInfo{\n      user_id\n      user_type\n      userStatistical{\n        data\n        dataPartitionCount\n        metaPartitionCount\n        volumeCount\n      }\n    }\n  }"]),c={ClusterView:i()(u),topNUser:i()(l),dataNode:i()(o),rangeQuery:i()(d),rangeVolQuery:i()(p),queryUserList:i()(y)};t.a=c}});
//# sourceMappingURL=10.5046ef9db7e9cb219cf8.js.map