webpackJsonp([15],{"2s8G":function(t,e){},"3wUI":function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACQAAAAkCAYAAADhAJiYAAAAAXNSR0IArs4c6QAAA9hJREFUWAnNWE1LG0EYnmyiohJNEDxEUxWxULzkrPXYQ6mX9tB/UVoo+COEQsV/0UN7sfSQ3rQeBU9eRNFogh+QmEqCmGifZ7qz7m52Z2cloR1IZuf9fPadd96Z2YSI2Wq1WrbRaLy6u7t7AdUniUQih54/tvL9/X0Z/bFlWcWhoaHvmUymKjmGfwlDOVEul18DxDsAWILTlIkeZFuQ3QS49Vwu981IJ0ro9PR0ETKrMLwQJavjA9w2+CsTExO/tHJhTABIAswn8N+HyTySvgZQHwGwHaQfOGXVajWDPPkCUMyTrjeAYX69zWazNb/xDkA2mG2AeeYX7uYYoPYAasEPynI74TTZkekpGPrkC9u+km4MHkDMmV5Nk9upeqYvO08VSThTBsYiBLYcToyHm5sb0dfXJ7C8Y2g9iGL6nqvV564nqw8i0U+oSeLg4ECcnZ2J29tbAaNieHhYzMzMiLGxsWgDXgn6Znn5GyG76H31yoSPCGBnZ0c0m81AoampKQkskBlCRHTfsHjKGLMCh8gFkvf390PBUOHo6EhcXV0F6oYRFQaLexPCvRQm6Ke32205TX66f1ypVPwk7ZgYiMXC0ltGMrtzSat4fX2t5SumqZySJwZisRCqWNU4mfSUDWWvo0+ljN/R0SUW5lDeoRg8cCWZgBoZGTGw1iGStzB36izTwQ0icHnPzs4GsRwaa1I+H+s9pS6xMEKxAFETy1NMTk5KI/6/gYEBMT8/Lwuln2cwziVQoetIqLSBcIcIl/b5+blgAjMq6XRaoOKKx+QPjSNCv5l5XJ+xALEwYonKWkQg2LFpjxsmT5ZicHBQ4Oj6mChVUjDCM/BTaTHijw5PTk7E4eGhwIrQSnNfm56elrnEvDNpxMIIHZsIE8Du7q5xBaY897rLy0tRKBRMN95jvIj10wQQoxJ3O6Dder0uI2riA1iKFk5tGwhpS6fApC2VSjoRLY+6UZWbGHhtsnhvwtxt6ixeXFzo2Ea8KBvEQCxyt0eo1nVWscfo2Ea8KBsKgwTEcwhCxntTYDNdJYHKNlFng77VRdK9A65AdyvI6NzcnBgdHZW1p9VqyRMi5VgGghqd88cC2d/fL3XHx8eDRBWNvmXzFAjUmM+gdvtiaLsK7dawDX1QXA8gvHESlfYH+lhHEmUsbo8oFjFVL9E7t1iZQ8oQGbxRot9TtF719GH7csDQlwcQCbxJQnABCkWOe9Fomz78t1b68kyZ2zmnz77EdTun4n9scAPjBRLjf/85xg2Kz//NBys/MPuT3jIP5ODlkQ88capTp/qkV+JGiTzZiPtJ7w/8DavrRYpZHQAAAABJRU5ErkJggg=="},D4ko:function(t,e,n){"use strict";var a={name:"Vue2OrgTree",components:{OrgTreeNode:{render:n("RvR5").a,functional:!0}},props:{data:{type:Object,required:!0},props:{type:Object,default:function(){return{label:"label",expand:"expand",children:"children"}}},horizontal:Boolean,selectedKey:String,collapsable:Boolean,renderContent:Function,labelWidth:[String,Number],labelClassName:[Function,String],selectedClassName:[Function,String]}},r={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"org-tree-container"},[n("div",{staticClass:"org-tree",class:{horizontal:t.horizontal,collapsable:t.collapsable}},[n("org-tree-node",{attrs:{data:t.data,props:t.props,horizontal:t.horizontal,"label-width":t.labelWidth,collapsable:t.collapsable,"render-content":t.renderContent,"label-class-name":t.labelClassName},on:{"on-expand":function(e,n){return t.$emit("on-expand",e,n)},"on-node-focus":function(e,n){return t.$emit("on-node-focus",e,n)},"on-node-click":function(e,n){return t.$emit("on-node-click",e,n)},"on-node-mouseover":function(e,n){return t.$emit("on-node-mouseover",e,n)},"on-node-mouseout":function(e,n){return t.$emit("on-node-mouseout",e,n)}}})],1)])},staticRenderFns:[]};var o=n("C7Lr")(a,r,!1,function(t){n("XncT")},null,null);e.a=o.exports},KrWI:function(t,e,n){"use strict";var a=n("x11r"),r=n.n(a),o=n("6KKH"),s=n.n(o),i=r()(["query Login($userID:String,$password:String) {\n      login(userID:$userID,password:$password){\n        token\n        userID\n      }\n    }"],["query Login($userID:String,$password:String) {\n      login(userID:$userID,password:$password){\n        token\n        userID\n      }\n    }"]),l=r()(["query Dashboard {\n    Dashboard\n  }"],["query Dashboard {\n    Dashboard\n  }"]),u={login:s()(i),dashboard:s()(l)};e.a=u},NHnr:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=n("kV13"),r=n("sTv3");a.default.use(r.a);var o=new r.a({scrollBehavior:function(t,e,n){return{x:0,y:0}},linkActiveClass:"is-active",mode:"history",routes:[{path:"/",redirect:"/overview"},{path:"/overview",name:"overview",component:function(){return Promise.all([n.e(0),n.e(2)]).then(n.bind(null,"3C4T"))}},{path:"/login",name:"login",component:function(){return n.e(9).then(n.bind(null,"Quw4"))}},{path:"/userDetails",name:"userDetails",component:function(){return n.e(10).then(n.bind(null,"7AC+"))}},{path:"/servers",name:"servers",component:function(){return Promise.all([n.e(0),n.e(6)]).then(n.bind(null,"WN4v"))}},{path:"/serverList",name:"serverList",meta:{crumbName:["servers"],crumbPath:["servers"]},component:function(){return Promise.all([n.e(0),n.e(4)]).then(n.bind(null,"+HyO"))}},{path:"/serverDetail",name:"serverDetail",meta:{crumbName:["servers","serverList"],crumbPath:["servers","serverList"]},component:function(){return Promise.all([n.e(0),n.e(12)]).then(n.bind(null,"aNZI"))}},{path:"/dashboard",name:"dashboard",component:function(){return Promise.all([n.e(0),n.e(1)]).then(n.bind(null,"DoUj"))}},{path:"/volumeList",name:"volumeList",component:function(){return Promise.all([n.e(0),n.e(8)]).then(n.bind(null,"6+vy"))}},{path:"/volumeDetail",name:"volumeDetail",meta:{crumbName:["Volume List"],crumbPath:["volumeList"]},component:function(){return Promise.all([n.e(0),n.e(5)]).then(n.bind(null,"4YXH"))}},{path:"/operations",name:"Operations",meta:{crumbName:["Operations List"],crumbPath:["operations"]},component:function(){return Promise.all([n.e(0),n.e(3)]).then(n.bind(null,"M0q/"))}},{path:"/alarm",name:"alarm",component:function(){return n.e(11).then(n.bind(null,"PRe2"))}},{path:"/authorization",name:"authorization",component:function(){return n.e(7).then(n.bind(null,"3Qw2"))}},{path:"*",component:function(){return n.e(13).then(n.bind(null,"+H76"))}}]}),s=n("bQIR"),i=n.n(s),l=(n("gFLX"),n("bkwc")),u=n.n(l),c=n("4YfN"),m=n.n(c),d=n("kciL"),h={name:"mainHeader",data:function(){return{userID:null}},computed:m()({},Object(d.a)(["loginUserName"])),methods:{logOut:function(){sessionStorage.clear(),sessionStorage.setItem("returnUrl",window.location.href),this.$router.push({path:"/login"})}},mounted:function(){this.userID=sessionStorage.getItem("access_userID"),this.userID||this.$router.push({path:"/login"})}},p={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"header pr"},[a("div",{staticClass:"right"},[a("div",{staticClass:"link"},[a("i",{staticClass:"en-icon"}),t._v(" "),a("router-link",{attrs:{to:"/alarm"}},[a("i",{staticClass:"warn-icon"})])],1),t._v(" "),a("div",{staticClass:"user"},[a("el-dropdown",[a("span",{staticClass:"el-dropdown-link"},[a("i",{staticClass:"head-icon"},[a("img",{attrs:{src:n("3wUI"),alt:""}})]),t._v("\n                    "+t._s(t.userID)+"\n                    "),a("i",{staticClass:"el-icon-arrow-down el-icon--right"})]),t._v(" "),a("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[a("el-dropdown-item",[a("p",{on:{click:function(e){return t.logOut()}}},[t._v("Sign out")])])],1)],1)],1)])])},staticRenderFns:[]};var v=n("C7Lr")(h,p,!1,function(t){n("2s8G")},"data-v-3f58c737",null).exports,f=n("KrWI"),b={name:"leftMenu",data:function(){return{unique:!0,activePath:this.$route.path,dashboardUrl:null}},props:{isCollapse:{type:Boolean,default:!1}},methods:{toDashboard:function(){this.dashboardUrl?window.open(this.dashboardUrl):this.queryDashboard()},queryDashboard:function(){var t=this;this.apollo.query(this.url.monitor,f.a.dashboard,{}).then(function(e){e.code||e.message?t.$message.error(e.message):(t.dashboardUrl=e.data.Dashboard,sessionStorage.setItem("dashboard_url",e.data.Dashboard),window.open(t.dashboardUrl))}).catch(function(t){console.log(t)})}},created:function(){if(this.dashboardUrl=sessionStorage.getItem("dashboard_url"),console.log(this.dashboardUrl),this.activePath=this.$route.path,"/"===this.$route.path){var t=window.location.pathname;switch(t){case"/serverList":case"/serverDetail":this.activePath="/servers";break;case"/userDetails":this.activePath="/overview";break;default:this.activePath=t}}}},w={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"left-menu"},[n("el-menu",{staticClass:"el-menu-vertical-demo menu-wrapper",attrs:{"default-active":t.activePath,"unique-opened":!0,collapse:t.isCollapse,router:""}},[n("div",{staticClass:"logo"}),t._v(" "),n("el-menu-item",{attrs:{index:"/overview"}},[n("i",{staticClass:"menuIcon1"}),t._v(" "),n("span",{attrs:{slot:"title"},slot:"title"},[t._v("Overview")])]),t._v(" "),n("el-menu-item",{attrs:{index:"/servers"}},[n("i",{staticClass:"menuIcon2"}),t._v(" "),n("span",{attrs:{slot:"title"},slot:"title"},[t._v("Servers")])]),t._v(" "),n("el-menu-item",{on:{click:t.toDashboard}},[n("i",{staticClass:"menuIcon3"}),t._v(" "),n("span",{attrs:{slot:"title"},slot:"title"},[t._v("Dashboard")])]),t._v(" "),n("el-menu-item",{attrs:{index:"/volumeList"}},[n("i",{staticClass:"menuIcon4"}),t._v(" "),n("span",{attrs:{slot:"title"},slot:"title"},[t._v("Volume")])]),t._v(" "),n("el-menu-item",{attrs:{index:"/operations"}},[n("i",{staticClass:"menuIcon5"}),t._v(" "),n("span",{attrs:{slot:"title"},slot:"title"},[t._v("Operations")])]),t._v(" "),n("el-menu-item",{attrs:{index:"/authorization"}},[n("i",{staticClass:"menuIcon7"}),t._v(" "),n("span",{attrs:{slot:"title"},slot:"title"},[t._v("Authorization")])]),t._v(" "),n("div",{staticClass:"menu-link"},[n("a",{staticClass:"github",attrs:{href:"https://github.com/chubaofs/chubaofs",target:"_blank"}}),t._v(" "),n("a",{staticClass:"twitter",attrs:{href:"https://twitter.com/chubaofs",target:"_blank"}}),t._v(" "),n("a",{staticClass:"slack",attrs:{href:"https://chubaofs.slack.com",target:"_blank"}})])],1)],1)},staticRenderFns:[]};var g={render:function(){this.$createElement;this._self._c;return this._m(0)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"footer"},[e("div",{staticClass:"text"},[this._v("Â© 2020 The ChubaoFS Authors")])])}]};var C={name:"index",components:{mainHeader:v,leftMenu:n("C7Lr")(b,w,!1,function(t){n("Q6Nj")},"data-v-009e9278",null).exports,mainFooter:n("C7Lr")({name:"mainFooter",data:function(){return{}},computed:{},methods:{}},g,!1,function(t){n("OY92")},"data-v-03e426c2",null).exports},data:function(){return{isLogin:!1,isCollapse:!1}},watch:{$route:function(t,e){this.isLogin="/login"===window.location.pathname}},mounted:function(){this.isLogin="/login"===window.location.pathname}},_={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"layout"},[t.isLogin?n("el-container",[n("router-view")],1):n("el-container",{staticStyle:{"min-height":"100%"}},[n("left-menu",{attrs:{isCollapse:t.isCollapse}}),t._v(" "),n("el-container",{staticClass:"container"},[n("main-header",[n("span",{staticClass:"changeCollapse",class:[t.isCollapse?"fold":"unfold"],on:{click:function(e){t.isCollapse=!t.isCollapse}}})]),t._v(" "),n("main",{staticClass:"main"},[n("router-view")],1),t._v(" "),n("main-footer")],1)],1)],1)},staticRenderFns:[]};var I=n("C7Lr")(C,_,!1,function(t){n("UjVf")},null,null).exports,A=n("hcrA"),y=n.n(A),x={name:"crumb",data:function(){return{crumbName:[],crumbPath:[],signHeight:0,showCutTag:!1,showCrumbItem:[]}},computed:{},props:{crumbInfo:{type:String,default:""},crumbItem:{type:Array}},methods:{cutCrumbItem:function(){var t=this;y()("#crumb").height()>14&&setTimeout(function(){t.showCrumbItem.shift(),t.showCutTag=!0},5)}},watch:{crumbItem:function(t,e){var n=this;n.showCutTag=!1,this.showCrumbItem=t.concat(),setTimeout(function(){n.cutCrumbItem()},5)},showCrumbItem:function(t,e){var n=this;setTimeout(function(){n.cutCrumbItem()},5)}},mounted:function(){this.crumbName=this.$route.meta.crumbName||[],this.crumbPath=this.$route.meta.crumbPath||[]}},D={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"crumb mb20",attrs:{id:"crumb"}},[n("el-breadcrumb",{attrs:{"separator-class":"el-icon-arrow-right"}},[t._l(t.crumbPath,function(e,a){return n("el-breadcrumb-item",{key:a,attrs:{to:"/"+e}},[t._v(t._s(t.crumbName[a]))])}),t._v(" "),n("el-breadcrumb-item",{directives:[{name:"show",rawName:"v-show",value:t.showCutTag,expression:"showCutTag"}]},[n("span",[t._v("...")])]),t._v(" "),t._l(t.showCrumbItem,function(e,a){return n("el-breadcrumb-item",{key:t.crumbPath.length+a,attrs:{to:{path:e.path,query:e.query}}},[t._v(t._s(e.title))])}),t._v(" "),n("el-breadcrumb-item",[t.crumbInfo?n("span",[t._v(t._s(t.crumbInfo))]):t._e()])],2)],1)},staticRenderFns:[]};var k=n("C7Lr")(x,D,!1,function(t){n("VKxw")},"data-v-0c3b0400",null).exports,L=n("f3p+"),N=n("5oBx"),S=n("capu"),T=n("/Qs5"),P={query:function(t,e,n,a){var r=new N.a({uri:t,credentials:"include"}),o=new T.a(function(t,e){var n=sessionStorage.getItem("access_token");return t.setContext({headers:{authorization:""+n||null}}),e(t)});return new L.a({link:o.concat(r),cache:new S.a}).query({query:e,variables:n}).then(function(t){return t}).catch(function(t){if(t.graphQLErrors[0]){var e=JSON.parse(t.graphQLErrors[0]);if(407!==e.code)return e;sessionStorage.setItem("returnUrl",window.location.href),window.location.href=window.location.origin+"/login"}return t})},mutation:function(t,e,n,a){var r=new N.a({uri:t,credentials:"same-origin"}),o=new T.a(function(t,e){var n=sessionStorage.getItem("access_token");return t.setContext({headers:{authorization:""+n||null}}),e(t)});return new L.a({link:o.concat(r),cache:new S.a}).mutate({mutation:e,variables:n}).then(function(t){return t}).catch(function(t){if(t.graphQLErrors[0]){var e=JSON.parse(t.graphQLErrors[0]);if(401!==e.code&&407!==e.code)return e;sessionStorage.setItem("returnUrl",window.location.href),window.location.href=window.location.origin+"/login"}return t})}},Q=n("E5qI"),E=n("Kww8"),U=n("NI+g");a.default.use(i.a,{locale:u.a}),a.default.use(Q.a),a.default.component("Crumb",k),a.default.config.productionTip=!1,a.default.prototype.url={login:"/login",user:"/api/user",operations:"/api/operations",cluster:"/api/cluster",monitor:"/cfs_monitor",volume:"/api/volume",authorization:"/api/user",file:"/file",uploadFile:"/file/upload",downFile:"/file/down"},a.default.prototype.apollo=P,a.default.prototype.sha1=U,a.default.prototype.md5=E,new a.default({el:"#app",router:o,components:{App:I},template:"<App/>"})},OY92:function(t,e){},Q6Nj:function(t,e){},UjVf:function(t,e){},VKxw:function(t,e){},XncT:function(t,e){},gFLX:function(t,e){}},["NHnr"]);
//# sourceMappingURL=app.261c91dc5b1de6f2b8f4.js.map